<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" ></script>-->

  {{ extend "layout.html" }} 

  <style>
  body {
  	margin: 50px 0px;
  	padding: 0px;
  	text-align: center;
  }
		
  #Content {
	width:800px;
	margin:0px auto; /* Right and left margin widths set to "auto" */
	text-align:left; /* Counteract to IE5/Win Hack */
	padding:15px;
	border:1px dashed #333;
	background-color:#eee;
	}

  <!---
  p {
  	max-width: 700px;
  	margin:0px auto;
  	text-align: left;
  	padding: 15px;
  	border: 1px dashed #333;
  	background-color: #eeee;
  }
  --->
  #rightAlign {text-align:right}
  .label {
    text-align:right;
    padding-right:8px;
    height:25px;
  }
  .error {
    padding-left:8px;
    color: red;  
  }
  .submit {
  	font-size: 120%;
  	background-color:#c60;
  	padding: 4px 8px;
  }
  </style>
  
  <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js" type="text/javascript">
  </script>

<!--
{{=BEAUTIFY(request.vars)}}
-->

<!---
 Survey of workers no matter if they accepted or know. 
Means that we have to find a way to way everybody who looks at our tasks. 
-->

<!--
{{ if request.errors: }}
<div id="errors">{{=XML(request.errors)}}</div>
{{pass}}
-->

<div id="Content">
  <h2 style="color:#c60">Survey for {{="Write a Short Letter to an Inmate" if request.vars.task == "prisoner" else "Image Tagging"}}
task</h2>
  <br>
  [MAYBE ADD A LINK TO A SCREENSHOT OF THE TASK]
  <img src = "/static/survey/{{="prisoner image" if request.vars.task == "prisoner" else "[tagging image]" }}">
  <br>
  
  <p>Please help us improve our HITs and attract the best Turkers by filling out this survey.</p>

  <p>For your time and trouble <b>you will be paid {{=request.price_string}}</b> by bonus once the survey has been completed and vetted.</p>

  <br>
  <form method="post" name="survey" id="survey">
    <table>
      <tbody>
        <tr>
          <td class="label">
          <div id="rightAlign">
            <label for="sex">
            Gender:
            </label>
          </div>
          </td>

          <td><select name="sex" id="sex" required>
            <option value="">
              None selected
            </option>

            <option value="m">
              Male
            </option>

            <option value="f">
              Female
            </option>
          </select></td>
        </tr>

        <tr>
          <td class="label">
          <div id="rightAlign">
            <label for="age">
              Age:
            </label> 
            </div>
          </td>


          <td><select name="age" id="age" size="1" required>
            <option value="">
              None selected
            </option>

            <option value="1">
              less than 20
            </option>

            <option value="2">
              20-24 years
            </option>

            <option value="3">
              25-29 years
            </option>

            <option value="4">
              30-34 years
            </option>

            <option value="5">
              35-39 years
            </option>

            <option value="6">
              40-44 years
            </option>

            <option value="7">
              45-49 years
            </option>

            <option value="8">
              50-54 years
            </option>

            <option value="9">
              55-59 years
            </option>

            <option value="10">
              60-64 years
            </option>

            <option value="11">
              65-69 years
            </option>

            <option value="12">
              70-74 years
            </option>

            <option value="13">
              75-79 years
            </option>

            <option value="14">
              80 or above
            </option>
          </select></td>
        </tr>

        <tr>
          <td class="label">
            <label for="state">
              State:
            </label>             
          </td>

          <td><select name="state" id="state" size="1" required>
            <option selected value="">
              State...
            </option>

            <option value="">
              -- UNITED STATES --
            </option>

            <option value="AL">
              Alabama
            </option>

            <option value="AK">
              Alaska
            </option>

            <option value="AZ">
              Arizona
            </option>

            <option value="AR">
              Arkansas
            </option>

            <option value="CA">
              California
            </option>

            <option value="CO">
              Colorado
            </option>

            <option value="CT">
              Connecticut
            </option>

            <option value="DE">
              Delaware
            </option>

            <option value="DC">
              District Of Columbia
            </option>

            <option value="FL">
              Florida
            </option>

            <option value="GA">
              Georgia
            </option>

            <option value="HI">
              Hawaii
            </option>

            <option value="ID">
              Idaho
            </option>

            <option value="IL">
              Illinois
            </option>

            <option value="IN">
              Indiana
            </option>

            <option value="IA">
              Iowa
            </option>

            <option value="KS">
              Kansas
            </option>

            <option value="KY">
              Kentucky
            </option>

            <option value="LA">
              Louisiana
            </option>

            <option value="ME">
              Maine
            </option>

            <option value="MD">
              Maryland
            </option>

            <option value="MA">
              Massachusetts
            </option>

            <option value="MI">
              Michigan
            </option>

            <option value="MN">
              Minnesota
            </option>

            <option value="MS">
              Mississippi
            </option>

            <option value="MO">
              Missouri
            </option>

            <option value="MT">
              Montana
            </option>

            <option value="NE">
              Nebraska
            </option>

            <option value="NV">
              Nevada
            </option>

            <option value="NH">
              New Hampshire
            </option>

            <option value="NJ">
              New Jersey
            </option>

            <option value="NM">
              New Mexico
            </option>

            <option value="NY">
              New York
            </option>

            <option value="NC">
              North Carolina
            </option>

            <option value="ND">
              North Dakota
            </option>

            <option value="OH">
              Ohio
            </option>

            <option value="OK">
              Oklahoma
            </option>

            <option value="OR">
              Oregon
            </option>

            <option value="PA">
              Pennsylvania
            </option>

            <option value="RI">
              Rhode Island
            </option>

            <option value="SC">
              South Carolina
            </option>

            <option value="SD">
              South Dakota
            </option>

            <option value="TN">
              Tennessee
            </option>

            <option value="TX">
              Texas
            </option>

            <option value="UT">
              Utah
            </option>

            <option value="VT">
              Vermont
            </option>

            <option value="VA">
              Virginia
            </option>

            <option value="WA">
              Washington
            </option>

            <option value="WV">
              West Virginia
            </option>

            <option value="WI">
              Wisconsin
            </option>

            <option value="WY">
              Wyoming
            </option>

            <option value="">
              -- CANADA --
            </option>

            <option value="AB">
              Alberta
            </option>

            <option value="BC">
              British Columbia
            </option>

            <option value="MB">
              Manitoba
            </option>

            <option value="NB">
              New Brunswick
            </option>

            <option value="NF">
              Newfoundland and Labrador
            </option>

            <option value="NT">
              Northwest Territories
            </option>

            <option value="NS">
              Nova Scotia
            </option>

            <option value="NU">
              Nunavut
            </option>

            <option value="ON">
              Ontario
            </option>

            <option value="PE">
              Prince Edward Island
            </option>

            <option value="PQ">
              Quebec
            </option>

            <option value="SK">
              Saskatchewan
            </option>

            <option value="YT">
              Yukon Territory
            </option>
          </select></td>

          <td></td>
        </tr>

        <tr>
          <td class="label">
            <label for="educ">
              Highest education level:
            </label>
          </td>

          <td><select name="educ" id="educ" required>
            <option value="">
              None selcted
            </option>

            <option value="1">
              Less than high school
            </option>

            <option value="2">
              High school
            </option>

            <option value="3">
              Associate degree
            </option>

            <option value="4">
              Bachelor
            </option>

            <option value="5">
              Professional degree (lawyer, doctor, etc)
            </option>

            <option value="6">
              PhD or equivalent
            </option>
          </select></td>
        </tr>

        <tr>
          <td class="label">
            <label for="employment">
              Current employment status (choose best):
            </label>
          </td>

          <td><select name="employment" id="employment" required>
            <option value="">
              None selected
            </option>

            <option value="1">
              Employed - full-time
            </option>

            <option value="2">
              Employed - part-time
            </option>

            <option value="3">
              Self-employed - full-time
            </option>

            <option value="4">
              Self-employed - part-time
            </option>

            <option value="5">
              Student - full-time
            </option>

            <option value="6">
              Student - part-time
            </option>

            <option value="7">
              Military
            </option>

            <option value="8">
              Full-time parent, homemaker
            </option>

            <option value="9">
              Unemployed
            </option>

            <option value="10">
              Retired
            </option>
          </select></td>
        </tr>

        <tr>
          <td class="label">
            <label for="income">
              Annual household income:
            </label>
          </td>

          <td><select name="income" id="income" required>
            <option value="">
              None selected
            </option>

            <option value="2">
              less than $20,000
            </option>

            <option value="3">
              $20,000 - $29,999
            </option>

            <option value="4">
              $30,000 - $39,999
            </option>

            <option value="5">
              $40,000 - $49,999
            </option>

            <option value="6">
              $50,000 - $59,999
            </option>

            <option value="7">
              $60,000 - $69,999
            </option>

            <option value="8">
              $70,000 - $79,999
            </option>

            <option value="9">
              $80,000 - $89,999
            </option>

            <option value="10">
              $90,000 - $99,999
            </option>

            <option value="11">
              $100,000 - $109,999
            </option>

            <option value="12">
              $110,000 - $119,999
            </option>

            <option value="13">
              $120,000 - $129,999
            </option>

            <option value="14">
              $130,000 - $139,999
            </option>

            <option value="15">
              $140,000 - $149,000
            </option>

            <option value="16">
              More than $150,000
            </option>

            <option value="17">
              Prefer not to answer
            </option>
          </select></td>
        </tr>

        <tr>
          <td class="label">
            <label for="duration">
              Years active on Mechanical Turk:
            </label>
           </td>

          <td><select name="duration" id="duration" required>
            <option value="">
              None selected
            </option>

            <option value="1">
              Less than 1 year
            </option>

            <option value="2">
              1 year
            </option>

            <option value="3">
              2 years
            </option>

            <option value="4">
              3 years
            </option>

            <option value="5">
              4 years
            </option>

            <option value="6">
              5 or more years
            </option>
          </select></td>
        </tr>

        <tr>
          <td class="label">
            <label for="where">
              When you visited Mechanical Turk were you at:
            </label>
          </td>

          <td><select name="where" id="where" required>
            <option value="">
              None selected
            </option>

            <option value="1">
              Work
            </option>

            <option value="2">
              Home
            </option>

            <option value="3">
              School
            </option>

            <option value="4">
              Somewhere else
            </option>
          </select></td>
        </tr>
        
        <tr>
          <td class="label">
            <label for="comment">
              Do you have any comments on the task:
            </label>
          </td>
          <td>
            <textarea rows="10" cols="50" name="comment" id="comment"></textarea>
          </td>
        </tr>

        <tr>
          <td class="label">
          </td>
          <td>
			<div id="rightAlign">
            <input type="submit" value="Submit" class="submit">
          </div>

          </td>
        </tr>
      </tbody>
    </table>
  </form>
  
  <script type="text/javascript">
    $("form").validate();
  </script>
  
  <br>
  
  </div>
<!---

Straight HTML form is easier

JSON - Look into 

link with worker id embedded in the URL
use "get"
url = yuno.us:8003/survey?wid=[workerid]

turk/message_worker
workerid

use shell inside "utility" to test 

add .pp to see XML output 

survey controller [~/econ/utility/controllers/survey.py

index function
return {}

views/survey/index.html

database under models models/survey.py

db define table
workerid, date, [results]

look at web2py book

Email when submitted include note: "For survey completed."
-->
